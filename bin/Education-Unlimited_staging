#!/usr/bin/env bash
# Shortcut SSH connection script.

SSH_USER=justin
SSH_HOST=loadsysdev.com
SSH_PORT=22
SSH_KEYFILE="/Users/justinyost/.ssh/loadsys_id_rsa"
SSH_FLAGS="-ACt"

# Check the number of command line args.
if [ "$#" -gt 0 ]; then
    # Only perform the provided commands and exit.
    # (Used for git-deploy's post-deploy hook script.)
    SSH_COMMANDS="echo 'cd public_html; $@' | sudo su - eu; exit"
else
    # Start an interactive session.
    SSH_COMMANDS="sudo su - eu; exit"
fi

# Execute the ssh connection and commands.
ssh ${SSH_FLAGS} -i ${SSH_KEYFILE} ${SSH_USER}@${SSH_HOST} -p ${SSH_PORT} "${SSH_COMMANDS}" <&0
